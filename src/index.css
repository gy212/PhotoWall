@import 'tailwindcss';

@theme {
  --color-background: var(--color-background);
  --color-surface: var(--color-surface);
  --color-primary: var(--color-primary);
  --color-primary-hover: var(--color-primary-hover);
  --color-primary-foreground: var(--color-primary-foreground);
  --color-secondary: var(--color-secondary);
  --color-secondary-foreground: var(--color-secondary-foreground);
  --color-muted: var(--color-muted);
  --color-muted-foreground: var(--color-muted-foreground);
  --color-border: var(--color-border);
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/* Global Scrollbar Styles - Force Override */
html *::-webkit-scrollbar,
body *::-webkit-scrollbar,
*::-webkit-scrollbar {
  width: 6px !important;
  height: 6px !important;
  background-color: transparent !important;
}

html *::-webkit-scrollbar-track,
body *::-webkit-scrollbar-track,
*::-webkit-scrollbar-track {
  background-color: transparent !important;
}

html *::-webkit-scrollbar-thumb,
body *::-webkit-scrollbar-thumb,
*::-webkit-scrollbar-thumb {
  background-color: rgba(133, 128, 121, 0.4) !important;
  border-radius: 9999px !important;
}

html *::-webkit-scrollbar-thumb:hover,
body *::-webkit-scrollbar-thumb:hover,
*::-webkit-scrollbar-thumb:hover {
  background-color: rgba(133, 128, 121, 0.6) !important;
}

@layer base {
  :root {
    /* === Claude + Cursor Style - Light Theme === */

    /* 核心色调 - Claude Terracotta */
    --primary: #DA7756;
    --primary-light: #E8957A;
    --primary-dark: #C45D3A;

    /* 背景体系 - 更柔和的纸张感 */
    --bg-base: #FAF9F7;
    --bg-sidebar: #F5F3F0;
    --bg-surface: #FFFFFF;

    /* 交互元素 */
    --bg-element: #F0EEEB;
    --bg-hover: #E8E6E3;
    --bg-button: #F5F3F0;

    /* 文本颜色 - 更好的对比度 */
    --text-primary: #1A1918;
    --text-secondary: #6B6966;
    --text-tertiary: #9C9A97;

    /* 边框 - 更细腻 */
    --border-color: #E8E6E3;
    --border-light: #F0EEEB;

    /* 圆角 */
    --radius: 0.75rem;

    /* 语义映射 */
    --color-background: var(--bg-base);
    --color-surface: var(--bg-surface);
    --color-primary: var(--primary);
    --color-primary-hover: var(--primary-dark);
    --color-primary-foreground: #FFFFFF;
    --color-secondary: var(--text-secondary);
    --color-secondary-foreground: var(--text-primary);
    --color-muted: var(--text-tertiary);
    --color-muted-foreground: var(--text-tertiary);
    --color-border: var(--border-color);
  }

  /* .dark 类 - VS Code Style Dark Mode */
  .dark {
    /* 核心色调 - 稍亮的橙色在深色下更醒目 */
    --primary: #E8957A;
    --primary-light: #F0A890;
    --primary-dark: #DA7756;

    /* 背景体系 - VS Code 风格，层次分明 */
    --bg-base: #1E1E1E;      /* 主内容区 - VS Code 编辑器背景 */
    --bg-sidebar: #252526;   /* 侧边栏 - 稍亮，明显区分 */
    --bg-surface: #2D2D2D;   /* 卡片/面板 - 更亮，突出显示 */

    /* 交互元素 - 清晰的层次 */
    --bg-element: #3C3C3C;   /* 元素背景 - 列表项等 */
    --bg-hover: #454545;     /* 悬停状态 - 明显反馈 */
    --bg-button: #333333;    /* 按钮背景 */

    /* 文本颜色 - 保持良好对比度 */
    --text-primary: #E8E8E8; /* 主文本 - 柔和白 */
    --text-secondary: #ABABAB; /* 次要文本 */
    --text-tertiary: #808080; /* 辅助文本 - 提高可读性 */

    /* 边框 - 清晰可见的分隔 */
    --border-color: #404040; /* 主边框 - 明显可见 */
    --border-light: #333333; /* 次要边框 */

    /* 语义映射更新 */
    --color-background: var(--bg-base);
    --color-surface: var(--bg-surface);
    --color-primary: var(--primary);
    --color-primary-hover: var(--primary-dark);
    --color-primary-foreground: #000000;
    --color-secondary: var(--text-secondary);
    --color-secondary-foreground: var(--text-primary);
    --color-muted: var(--text-tertiary);
    --color-muted-foreground: var(--text-tertiary);
    --color-border: var(--border-color);
  }

  html,
  body {
    background-color: var(--bg-base);
    transition: background-color 0.3s ease;
  }

  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  /* 标题字体 - 衬线体 (Claude Style) */
  h1,
  h2,
  h3,
  h4,
  .font-serif,
  .timeline-header {
    font-family: 'Noto Serif SC', Georgia, serif;
    font-weight: 600;
    letter-spacing: -0.02em;
  }

  /* 更精细的字重控制 */
  h1 { font-weight: 700; }
  h2 { font-weight: 600; }
  h3, h4 { font-weight: 500; }
}

@layer utilities {



  /* 侧边栏 - 实体 (Solid) */
  .sidebar {
    background: var(--bg-sidebar);
    /* 无边框，靠色差 */
  }

  /* 侧边栏导航项 - Claude/Cursor 风格 */
  .nav-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-secondary);
    transition: all 0.15s ease;
  }

  .nav-item:hover {
    background: var(--bg-element);
    color: var(--text-primary);
  }

  .nav-item.active {
    background: var(--bg-element);
    color: var(--text-primary);
    font-weight: 500;
  }

  .nav-item.active-accent {
    background: rgba(218, 119, 86, 0.1);
    color: var(--primary);
  }

  .dark .nav-item.active {
    background: var(--bg-element);
    color: var(--text-primary);
  }

  .dark .nav-item.active-accent {
    background: rgba(232, 149, 122, 0.15);
    color: var(--primary);
  }

  /* 主内容面板 */
  .main-panel {
    background: var(--bg-base);
    /* 纯净背景，无需圆角或边框 */
  }

  /* 卡片样式 - Claude/Cursor 风格 */
  .card {
    background: var(--bg-surface);
    border: 1px solid var(--border-color);
    border-radius: 1rem;
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.03),
      0 4px 8px -2px rgba(0, 0, 0, 0.04);
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
  }

  .card:hover {
    transform: translateY(-2px);
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.04),
      0 10px 20px -4px rgba(0, 0, 0, 0.06);
    border-color: var(--bg-hover);
  }

  .dark .card {
    background: var(--bg-surface);
    border: 1px solid var(--border-color);
    box-shadow:
      0 2px 4px rgba(0, 0, 0, 0.3),
      0 8px 16px -4px rgba(0, 0, 0, 0.4);
  }

  .dark .card:hover {
    border-color: var(--bg-hover);
    box-shadow:
      0 4px 8px rgba(0, 0, 0, 0.4),
      0 12px 24px -4px rgba(0, 0, 0, 0.5);
  }

  /* 按钮样式 - Claude/Cursor 风格 */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    transition: all 0.15s ease;
    cursor: pointer;
    gap: 0.5rem;
  }

  .btn-primary {
    background: var(--primary);
    color: white;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }

  .btn-primary:hover {
    background: var(--primary-dark);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
  }

  .btn-primary:active {
    transform: scale(0.98);
  }

  .btn-secondary {
    background: var(--bg-element);
    color: var(--text-primary);
    border: 1px solid var(--border-color);
  }

  .btn-secondary:hover {
    background: var(--bg-hover);
    border-color: var(--text-tertiary);
  }

  .btn-secondary:active {
    transform: scale(0.98);
  }

  /* Ghost 按钮 - Cursor 风格 */
  .btn-ghost {
    background: transparent;
    color: var(--text-secondary);
  }

  .btn-ghost:hover {
    background: var(--bg-element);
    color: var(--text-primary);
  }

  /* 输入框样式 - Claude/Cursor 风格 */
  .input {
    width: 100%;
    padding: 0.625rem 0.875rem;
    border: 1px solid var(--border-color);
    border-radius: 0.5rem;
    background: var(--bg-surface);
    color: var(--text-primary);
    font-size: 0.875rem;
    transition:
      color 0.15s ease,
      background-color 0.15s ease,
      border-color 0.15s ease,
      box-shadow 0.15s ease,
      opacity 0.15s ease,
      transform 0.15s ease;
  }

  .input::placeholder {
    color: var(--text-tertiary);
  }

  .input:hover {
    border-color: var(--text-tertiary);
  }

  .input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(218, 119, 86, 0.12);
  }

  .dark .input:focus {
    box-shadow: 0 0 0 3px rgba(232, 149, 122, 0.15);
  }

  /* 移除原有 Glass 类，用实体类兜底 */
  .glass-panel,
  .native-glass-panel,
  .glass-card {
    background: var(--bg-surface);
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  /* 时间线标题 */
  .timeline-header {
    font-family: 'Noto Serif SC', serif;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
    padding-top: 0.5rem;
    /* 增加一点装饰线，更有杂志感 */
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  /* Scrollbar - 细致化 */


  /* 开关 (Switch) - Refined */
  .switch {
    background: var(--bg-element);
    /* ... 保持原有逻辑，颜色变量已自动适配 */
  }

  .switch.active {
    background: var(--primary);
  }
}
